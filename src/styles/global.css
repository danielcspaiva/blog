@import 'tailwindcss';

@plugin '@tailwindcss/typography';

@custom-variant dark (&:is(.dark *));

@theme {
  --font-sans: Geist Sans, ui-sans-serif, system-ui, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  --font-mono: Geist Mono, ui-monospace, SFMono-Regular, Menlo, Monaco,
    Consolas, 'Liberation Mono', 'Courier New', monospace;

  /* Navy + Teal + Pure Colors Only */
  --color-navy-50: #f8fafc;
  --color-navy-100: #f1f5f9;
  --color-navy-200: #e2e8f0;
  --color-navy-300: #cbd5e1;
  --color-navy-400: #94a3b8;
  --color-navy-500: #64748b;
  --color-navy-600: #475569;
  --color-navy-700: #334155;
  --color-navy-800: #1e293b;
  --color-navy-900: #0f172a;
  --color-navy-950: #020617;

  /* Teal Accents */
  --color-teal-50: #f0fdfa;
  --color-teal-100: #ccfbf1;
  --color-teal-200: #99f6e4;
  --color-teal-300: #5eead4;
  --color-teal-400: #2dd4bf;
  --color-teal-500: #14b8a6;
  --color-teal-600: #0d9488;
  --color-teal-700: #0f766e;
  --color-teal-800: #115e59;
  --color-teal-900: #134e4a;

  /* Pure neutrals */
  --color-neutral-50: #ffffff;
  --color-neutral-100: #f8fafc;
  --color-neutral-200: #e2e8f0;
  --color-neutral-300: #cbd5e1;
  --color-neutral-400: #94a3b8;
  --color-neutral-500: #64748b;
  --color-neutral-600: #475569;
  --color-neutral-700: #334155;
  --color-neutral-800: #1e293b;
  --color-neutral-900: #0f172a;
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-neutral-200, currentColor);
  }
}

@layer utilities {
  html {
    overflow-y: auto;
    color-scheme: light;
    scroll-padding-top: 100px;
  }

  html.dark {
    color-scheme: dark;
  }

  html,
  body {
    @apply size-full;
  }

  body {
    @apply font-sans antialiased;
    @apply flex flex-col;
    @apply bg-white dark:bg-navy-900;
    @apply text-navy-800 dark:text-neutral-100;
  }

  header {
    @apply fixed left-0 right-0 top-0 z-50 py-6;
    @apply bg-white/80 dark:bg-navy-900/80;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  main {
    @apply flex-1 py-24 sm:py-32;
  }

  footer {
    @apply py-6 text-sm;
  }

  article {
    @apply prose prose-neutral max-w-full dark:prose-invert prose-img:mx-auto prose-img:my-auto;
    @apply prose-headings:font-semibold;
    @apply prose-headings:text-navy-900 dark:prose-headings:text-neutral-50;
  }
}

@layer utilities {
  article a {
    @apply font-sans text-current underline underline-offset-[3px];
    @apply decoration-teal-500/60 dark:decoration-teal-400/60;
    @apply transition-colors duration-300 ease-in-out;
  }
  article a:hover {
    @apply text-teal-600 dark:text-teal-400;
    @apply decoration-teal-600 dark:decoration-teal-400;
  }
}

.animate {
  @apply -translate-y-3 opacity-0;
  @apply transition-all duration-300 ease-out;
}

.animate.show {
  @apply translate-y-0 opacity-100;
}

html #back-to-top {
  @apply pointer-events-none opacity-0;
}

html.scrolled #back-to-top {
  @apply pointer-events-auto opacity-100;
}

/* shiki config */
pre {
  @apply border border-neutral-200 py-5 dark:border-neutral-700;
}

:root {
  --astro-code-foreground: #1e293b;
  --astro-code-background: #ffffff;
  --astro-code-token-comment: #64748b;
  --astro-code-token-keyword: #0891b2;
  --astro-code-token-string: #06b6d4;
  --astro-code-token-function: #0f172a;
  --astro-code-token-constant: #0e7490;
  --astro-code-token-parameter: #22d3ee;
  --astro-code-token-string-expression: #155e75;
  --astro-code-token-punctuation: #475569;
  --astro-code-token-link: #06b6d4;
  --astro-code-token-variable: #334155;
  --astro-code-token-number: #0891b2;
  --astro-code-token-boolean: #164e63;
  --astro-code-token-operator: #475569;
  --astro-code-token-class-name: #1e293b;
  --astro-code-token-type: #0e7490;
}

.dark {
  --astro-code-foreground: #f8fafc;
  --astro-code-background: #0f172a;
  --astro-code-token-comment: #64748b;
  --astro-code-token-keyword: #67e8f9;
  --astro-code-token-string: #22d3ee;
  --astro-code-token-function: #cffafe;
  --astro-code-token-constant: #06b6d4;
  --astro-code-token-parameter: #a5f3fc;
  --astro-code-token-string-expression: #0891b2;
  --astro-code-token-punctuation: #94a3b8;
  --astro-code-token-link: #22d3ee;
  --astro-code-token-variable: #e2e8f0;
  --astro-code-token-number: #67e8f9;
  --astro-code-token-boolean: #ecfeff;
  --astro-code-token-operator: #cbd5e1;
  --astro-code-token-class-name: #f1f5f9;
  --astro-code-token-type: #a5f3fc;
}

/* copy code button on codeblocks */
.copy-code {
  @apply absolute right-3 top-3 grid size-9 place-content-center rounded-sm border border-neutral-200 bg-neutral-50 text-center duration-300 ease-in-out dark:border-neutral-700 dark:bg-neutral-800;
}

.copy-code:hover {
  @apply bg-neutral-100 transition-colors dark:bg-neutral-700;
}

.copy-code:active {
  @apply scale-90 transition-transform;
}
